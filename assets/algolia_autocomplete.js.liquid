!function(e){if(e.config.autocomplete_enabled){var t,o=e._,n=e.jQuery;(t=e.autocomplete={articles:{enabled:e.config.index_articles,hitsPerPage:e.config.articles_autocomplete_hits_per_page,index:i("articles"),templates:{empty:e.compileTemplate("autocomplete_articles_empty"),hit:e.compileTemplate("autocomplete_article")}},pages:{enabled:e.config.index_pages,hitsPerPage:e.config.pages_autocomplete_hits_per_page,index:i("pages"),templates:{empty:e.compileTemplate("autocomplete_pages_empty"),hit:e.compileTemplate("autocomplete_page")}},collections:{enabled:e.config.index_collections,hitsPerPage:e.config.collections_autocomplete_hits_per_page,index:i("collections"),templates:{empty:e.compileTemplate("autocomplete_collections_empty"),hit:e.compileTemplate("autocomplete_collection")}},colors:e.config.colors,debug:e.config.autocomplete_debug,poweredBy:e.config.powered_by,products:{enabled:e.config.index_products,distinct:e.config.show_products,hitsPerPage:e.config.products_autocomplete_hits_per_page,index:i("products"),templates:{empty:e.compileTemplate("autocomplete_products_empty"),footer:e.compileTemplate("autocomplete_footer"),hit:e.compileTemplate("autocomplete_product")}},selector:e.config.input_selector+", .algolia-shopify-autocomplete",showFooter:e.config.instant_search_enabled,storeName:e.storeName,templates:{dropdown:e.compileTemplate("autocomplete"),empty:"<div></div>",style:e.compileTemplate("autocomplete.css")}}).poweredBy&&console.log("Algolia: Autocomplete"),e.appendStyle(e.render(t.templates.style,{colors:t.colors})),n(document).ready(function(){t.$input=n(t.selector),t.$input.autocomplete({debug:t.debug,hint:!1,appendTo:"body",templates:{dropdownMenu:e.render(t.templates.dropdown,{storeName:t.storeName,with:{articles:t.articles.enabled,collections:t.collections.enabled,pages:t.pages.enabled,footer:t.showFooter,poweredBy:t.poweredBy,products:t.products.enabled}}),empty:t.templates.empty}},o.compact([a("collections"),a("articles"),a("pages"),a("products")])),t.$input.each(function(){var e,t=n(this).data("aaAutocomplete").dropdown,o="."+t.cssClasses.prefix+"-"+t.cssClasses.suggestion,i=t._onSuggestionClick.bind(t);t.$menu.on("touchend",o,function(t){!1===e&&(t.preventDefault(),t.stopPropagation(),i.apply(this,arguments))}).on("touchmove",function(){e=!0}).on("touchstart",function(){e=!1})}),t.$input.on("autocomplete:selected",function(o,n,i){if(e.config.analytics_enabled&&window.aa("click",{objectID:n.objectID,position:n._position,queryID:n._queryID}),"products"===i){var a=!t.products.distinct&&n.objectID!==n.id;window.location.href="/"+i+"/"+n.handle+(a?"?variant="+n.objectID:"")}else window.location.href="articles"===i?"/blogs/"+n.blog.handle+"/"+n.handle:"/"+i+"/"+n.handle}),t.$input.on("autocomplete:redrawn",function(){s(n(this))}),n(window).resize(function(){t.$input.each(function(){s(n(this))})})})}function i(t){return e.client.initIndex(""+e.config.index_prefix+t)}function a(o){var n=t[o];if(!0!==n.enabled)return null;var a={empty:function(t){return e.render(n.templates.empty,Object.assign({},t,{translations:e.translations}))},suggestion:function(t){return e.render(n.templates.hit,Object.assign({_distinct:n.distinct},t,{translations:e.translations}))}};return n.templates.footer&&(a.footer=function(o,i){return i.nbHits<=n.hitsPerPage?null:t.showFooter?e.render(n.templates.footer,{query:o.query,nbHits:i.nbHits,translations:e.translations,helpers:e.helpers}):null}),{name:o,source:function(e,t){var a={clickAnalytics:!0,hitsPerPage:n.hitsPerPage,highlightPreTag:'<span class="aa-highlight">',highlightPostTag:"</span>"};n.distinct&&(a.distinct=!0),i(o).search(e,a).then(function(e){var o=function(e,t){return e.map(function(e,o){return e._position=o+1,e._queryID=t,e})}(e.hits,e.queryID);t(o,e)})},displayKey:"title",templates:a}}function s(e){var t=e.data("aaAutocomplete");if(t){var o=t.$node,n=t.dropdown.$menu,i=e.outerWidth(),a=document.body.clientWidth,s=e.offset(),l=s.left,c=a-i-l,p=s.top,r=e.outerHeight(),d=l<c?"left":"right",u=Math.min(l,c);4*u>a&&(d="left",u=Math.round(a/4));var m=a-2*u;i>=600&&(d="left",u=l,m=i),o.css("left","").css("right","").css("top",p+r+8+"px").css(d,u).css("width",m+"px");var g="lg";m<300?g="xs":m<600?g="sm":m<900&&(g="md"),n.removeClass("aa-dropdown-menu-size-xs").removeClass("aa-dropdown-menu-size-sm").removeClass("aa-dropdown-menu-size-md").removeClass("aa-dropdown-menu-size-lg").addClass("aa-dropdown-menu-size-"+g)}}}(algoliaShopify);